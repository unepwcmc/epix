<div class="list-header">
  <h1><%= t('users_list') %></h1>
  <div class="buttons">
    <%= link_to t('user_new_page'), new_admin_user_path, class: 'button' %>
  </div>
</div>

<table id="users_table">
  <thead>
    <tr>
      <th><%= t('user_id') %></th>
      <th class='searchable'><%= t('user_first_name') %></th>
      <th class='searchable'><%= t('user_last_name') %></th>
      <th class='searchable'><%= t('user_email') %></th>
      <th class='searchable'><%= t('user_organisation') %></th>
      <th><%= t('user_is_admin') %></th>
      <th class="no-sort"></th>
      <th class="no-sort"></th>
      <th class="no-sort"></th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td>
          <%= user.id %>
        </td>
        <td>
          <%= user.first_name %>
        </td>
        <td>
          <%= user.last_name %>
        </td>
        <td>
          <%= user.email %>
        </td>
        <td>
          <%= user.organisation && user.organisation.display_name %>
        </td>
        <td>
          <%= user.is_admin ? fa_icon('check') : '' %>
        </td>
        <td>
          <%= link_to(admin_user_path(user)) { fa_icon "eye" } %>
        </td>
        <td>
          <%= link_to(edit_admin_user_path(user)) { fa_icon "pencil" } %>
        </td>
        <td>
          <%= link_to(
            admin_user_path(user),
            method: :delete,
            data: { confirm: t('delete_are_you_sure') }){ fa_icon "trash" }
          %>
        </td>
      </tr>
    <% end %>
  </tbody>
  <tfoot>
    <tr>
      <th></th>
      <th><input type="text" placeholder="<%= t('search_placeholders.first_name') %>" ></th>
      <th><input type="text" placeholder="<%= t('search_placeholders.last_name') %>" ></th>
      <th><input type="text" placeholder="<%= t('search_placeholders.email') %>" /></th>
      <th><input type="text" placeholder="<%= t('search_placeholders.organisation') %>" /></th>
      <th></th>
      <th class="no-sort"></th>
      <th class="no-sort"></th>
    </tr>
  </tfoot>
</table>
